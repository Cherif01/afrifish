<div class="card g-4">
  <div class="row">
    <div class="col text-start">
      <h4 class="text-uppercase fw-bold">{{ title }}</h4>
    </div>
    <div class="col text-right">
     <button mat-raised-button color="primary" (click)="print()">Imprimer le bon de commande</button>

    </div>
  </div>
</div>
<div class="invoice-container">


  <h2 class="invoice-title">BON DE COMMANDE</h2>

  <!-- Section pour les infos client et entreprise align√©es -->
  <div class="header-info">
    <div class="client-info">
      <h3>Informations du Client</h3>
      <p><strong>Nom :</strong> {{ infoBonCommande?.utilisateur?.Nom_Complet }}</p>
      <p><strong>Adresse :</strong> {{ infoBonCommande?.utilisateur?.Adresse }}</p>
      <p><strong>T√©l√©phone :</strong> {{ infoBonCommande?.utilisateur?.Telephone }}</p>
      <p><strong>Email :</strong> {{ infoBonCommande?.utilisateur?.Email }}</p>
    </div>

    <div class="company-info">
      <h1>AFRIFISH</h1>
      <p>Le commerce au service de votre √©volution</p>
      <p> Simbaya1 / Matoto</p>
      <p> +224 628 68 37 39 / 625 06 71 61</p>
      <p> afrifish@gmail.com</p>
      <p> RCCM/GN. TCC.2024.10906 | RCCM/GN. TCC.2024. A.09733</p>
    </div>
  </div>

  <section class="invoice-details">
    <p><strong>Num√©ro unique :</strong> {{ infoBonCommande?.numero }}</p>
    <p><strong>Date d'√©mission :</strong> {{ infoBonCommande?.date | date: 'dd/MM/yyyy' }}</p>
  </section>

  <section class="invoice-table">
    <table>
      <thead>
        <tr>
          <th>N¬∞</th>
          <th>D√©signation</th>
          <th>Quantit√©</th>
          <th>Prix unitaire (GNF)</th>
          <th>Montant (GNF)</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of infoBonCommande?.articles; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ item.designation }}</td>
          <td>{{ item.quantite_Disponible }}</td>
          <td>{{ item.prix_unitaire | number:'1.0-2' }}</td>
          <td>{{ item.montant_total | number:'1.0-2' }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4"><strong>Total</strong></td>
          <td><strong>{{ infoBonCommande?.montant_global| number:'1.0-2' }} GNF</strong></td>
        </tr>
      </tfoot>
    </table>
  </section>

  <section class="payment-terms">
    <h3>Modalit√©s de paiement :</h3>
    <p>‚úî Le paiement est d√ª √† la r√©ception de la facture.</p>
    <p>‚úî M√©thode de paiement : le paiement doit √™tre effectu√© dans un d√©lai de 5 jours.</p>
  </section>

  <section class="remarks">
    <h3>Remarques :</h3>
    <p>‚úî Ce bon de commande est un document commercial et ne constitue pas une demande de paiement imm√©diate.</p>
  </section>
  <section class="payment-form" *ngIf="infoBonCommande?.statut === 'livrer'" >
    <h3>Effectuer un paiement</h3>
    <mat-form-field appearance="outline">
      <mat-label>Montant √† payer</mat-label>
      <input matInput type="number" [(ngModel)]="montantPaiement">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <input matInput type="text" [(ngModel)]="descriptions">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Mode de paiement</mat-label>
      <mat-select [(value)]="modePaiement">
        <mat-option value="cash">üíµ Esp√®ces</mat-option>
        <mat-option value="virement">üè¶ Virement</mat-option>
        <mat-option value="carte bancaire">üí≥ Carte bancaire</mat-option>
      </mat-select>
    </mat-form-field>

    <button mat-raised-button color="accent" (click)="payerFacture()">üí∞ Payer</button>
  </section>

  <footer>
    <p>Merci pour votre confiance et votre collaboration.</p>
    <div class="signature">
      <p>{{ infoBonCommande?.utilisateur?.Nom_Complet }}</p>
      <p>AFRIFISH</p>
      <p><strong>Email :</strong> {{ infoBonCommande?.utilisateur?.Email }}</p>
      <p>T√©l√©phone : +224 628 68 37 39 / 625 06 71 61</p>
    </div>
  </footer>
</div>
